'use strict';
<<<<<<< HEAD
module.exports = function (url) {
	if (typeof url !== 'string') {
		throw new TypeError('Expected a string, got ' + typeof url);
	}

	url = url.trim();
=======
module.exports = (url, opts) => {
	if (typeof url !== 'string') {
		throw new TypeError(`Expected \`url\` to be of type \`string\`, got \`${typeof url}\``);
	}

	url = url.trim();
	opts = Object.assign({https: false}, opts);
>>>>>>> 8eef711e0e0a90dc87d9d6f56f708634be5b6b78

	if (/^\.*\/|^(?!localhost)\w+:/.test(url)) {
		return url;
	}

<<<<<<< HEAD
	return url.replace(/^(?!(?:\w+:)?\/\/)/, 'http://');
=======
	return url.replace(/^(?!(?:\w+:)?\/\/)/, opts.https ? 'https://' : 'http://');
>>>>>>> 8eef711e0e0a90dc87d9d6f56f708634be5b6b78
};
